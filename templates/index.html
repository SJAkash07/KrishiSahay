<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KrishiSahay - AI Farming Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="app-container">
        <!-- Top Navigation Bar -->
        <nav class="top-nav">
            <div class="nav-left">
                <div class="logo-main">
                    <span class="logo-emoji">ðŸŒ¾</span>
                    <span class="logo-text" data-en="KrishiSahay" data-hi="à¤•à¥ƒà¤·à¤¿ à¤¸à¤¹à¤¾à¤¯">KrishiSahay</span>
                </div>
            </div>
            <div class="nav-right">
                <button class="nav-btn theme-toggle" onclick="toggleTheme()" title="Toggle theme">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Chat Messages Section -->
            <div class="chat-area">
                <div id="messagesWrapper" class="messages-wrapper">
                    <div class="welcome-section-gradient">
                        <div class="welcome-hero">
                            <div class="hero-icon">ðŸŒ¾</div>
                            <h1 data-en="à¤•à¥ƒà¤·à¤¿ à¤¸à¤¹à¤¾à¤¯" data-hi="à¤•à¥ƒà¤·à¤¿ à¤¸à¤¹à¤¾à¤¯" class="hero-title">à¤•à¥ƒà¤·à¤¿ à¤¸à¤¹à¤¾à¤¯</h1>
                            <p class="hero-subtitle" data-en="Your AI Farming Companion" data-hi="à¤†à¤ªà¤•à¤¾ AI à¤•à¥ƒà¤·à¤¿ à¤¸à¤¾à¤¥à¥€">Your AI Farming Companion</p>
                        </div>
                        
                        <div class="feature-cards">
                            <div class="feature-card" style="background: linear-gradient(135deg, #2d5016 0%, #1a3a0a 100%);">
                                <div class="card-icon">ðŸŒ±</div>
                                <h3 data-en="Smart Crops" data-hi="à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤«à¤¸à¤²à¥‡à¤‚">Smart Crops</h3>
                                <p data-en="AI-powered crop recommendations" data-hi="AI-à¤¸à¤‚à¤šà¤¾à¤²à¤¿à¤¤ à¤«à¤¸à¤² à¤¸à¥à¤à¤¾à¤µ">AI-powered crop recommendations</p>
                            </div>
                            <div class="feature-card" style="background: linear-gradient(135deg, #8b6f47 0%, #5a4a3a 100%);">
                                <div class="card-icon">ðŸ§ª</div>
                                <h3 data-en="Fertilizers" data-hi="à¤‰à¤°à¥à¤µà¤°à¤•">Fertilizers</h3>
                                <p data-en="Nutrient guidance & planning" data-hi="à¤ªà¥‹à¤·à¤£ à¤®à¤¾à¤°à¥à¤—à¤¦à¤°à¥à¤¶à¤¨ à¤”à¤° à¤¯à¥‹à¤œà¤¨à¤¾">Nutrient guidance & planning</p>
                            </div>
                            <div class="feature-card" style="background: linear-gradient(135deg, #3d6930 0%, #2a4620 100%);">
                                <div class="card-icon">ðŸ”„</div>
                                <h3 data-en="Rotation" data-hi="à¤°à¥‹à¤Ÿà¥‡à¤¶à¤¨">Rotation</h3>
                                <p data-en="Crop rotation optimization" data-hi="à¤«à¤¸à¤² à¤šà¤•à¥à¤° à¤…à¤¨à¥à¤•à¥‚à¤²à¤¨">Crop rotation optimization</p>
                            </div>
                            <div class="feature-card" style="background: linear-gradient(135deg, #d4a574 0%, #a0894a 100%);">
                                <div class="card-icon">â›…</div>
                                <h3 data-en="Weather" data-hi="à¤®à¥Œà¤¸à¤®">Weather</h3>
                                <p data-en="Real-time weather insights" data-hi="à¤°à¥€à¤¯à¤²-à¤Ÿà¤¾à¤‡à¤® à¤®à¥Œà¤¸à¤® à¤…à¤‚à¤¤à¤°à¥à¤¦à¥ƒà¤·à¥à¤Ÿà¤¿">Real-time weather insights</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <aside class="sidebar-gradient">
                <div class="sidebar-section">
                    <h3 class="sidebar-title" data-en="Chat History" data-hi="à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤•à¤¾ à¤‡à¤¤à¤¿à¤¹à¤¾à¤¸">Chat History</h3>
                    <button class="new-chat-btn-gradient" onclick="startNewChat()">
                        <i class="fas fa-plus"></i>
                        <span data-en="New Chat" data-hi="à¤¨à¤ˆ à¤¬à¤¾à¤¤à¤šà¥€à¤¤">New Chat</span>
                    </button>
                    <div id="chatHistory" class="history-list-gradient"></div>
                </div>
            </aside>
        </div>

        <!-- Audio Player Section (Fixed) -->
        <div id="audioSection" class="audio-section-fixed" style="display: none;">
            <div class="audio-player">
                <audio id="audioPlayer" controls style="width: 100%;"></audio>
                <button id="downloadAudioBtn" class="download-audio-btn" onclick="downloadAudio()" title="Download Audio">
                    <i class="fas fa-download"></i> Download
                </button>
            </div>
        </div>

        <!-- Input Section (Bottom) -->
        <div class="input-section-gradient">
            <div class="input-container">
                <div class="language-selector-gradient">
                    <select id="languageSelect" class="lang-select-gradient" onchange="changeLanguage(this.value)">
                        <option value="English">English</option>
                        <option value="Hindi">à¤¹à¤¿à¤‚à¤¦à¥€</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <textarea 
                        id="questionInput" 
                        class="message-input-gradient" 
                        placeholder="Ask about farming, crops, weather..."
                        rows="1"
                    ></textarea>
                    <button class="send-btn-gradient" onclick="askQuestion()" title="Send (Ctrl+Enter)">
                        <i class="fas fa-arrow-up"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Player (Hidden) -->
    <audio id="audioPlayer" style="display:none;"></audio>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal-gradient" style="display:none;">
        <div class="modal-content-gradient">
            <div class="modal-header-gradient">
                <h2 data-en="Settings" data-hi="à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸">Settings</h2>
                <button class="modal-close-gradient" onclick="toggleSettings()">&times;</button>
            </div>
            <div class="modal-body-gradient">
                <label class="setting-item-gradient">
                    <input type="checkbox" id="audioToggle" checked>
                    <span data-en="Audio responses" data-hi="à¤‘à¤¡à¤¿à¤¯à¥‹ à¤ªà¥à¤°à¤¤à¤¿à¤•à¥à¤°à¤¿à¤¯à¤¾">Enable audio responses</span>
                </label>
                <label class="setting-item-gradient">
                    <input type="checkbox" id="animationToggle" checked>
                    <span data-en="Animations" data-hi="à¤à¤¨à¤¿à¤®à¥‡à¤¶à¤¨">Enable animations</span>
                </label>
            </div>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loadingIndicator" class="loading-indicator" style="display:none;">
        <div class="loader-gradient"></div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>